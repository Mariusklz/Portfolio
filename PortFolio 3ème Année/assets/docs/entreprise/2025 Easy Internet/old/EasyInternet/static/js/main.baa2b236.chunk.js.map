{
    "version": 3,
    "sources": ["NavButton.js", "NavBar.js", "Map.js", "ResultsWindow.js", "MapController.js", "ContentWindow.js", "App.js", "index.js"],
    "names": ["NavButton", "props", "selectedTag", "selected", "react_default", "a", "createElement", "title", "className", "concat", "type", "onClick", "btnAction", "id", "alt", "src", "img", "ButtonsInfos", "NavBar", "_this", "this", "buttons", "forEach", "button", "push", "src_NavButton", "menu", "generateButtons", "React", "Component", "IMP_AREAS", "name", "areas", "TEL_AREAS", "Map", "Object", "classCallCheck", "possibleConstructorReturn", "getPrototypeOf", "call", "state", "hoveredArea", "globalSearch", "bind", "assertThisInitialized", "sitesInfos", "row", "Coords", "ID", "xa", "parseInt", "split", "ya", "xb", "yb", "shape", "coords", "pSiteID", "res", "undefined", "area", "centerX", "centerY", "top", "left", "e", "map", "rect", "target", "getBoundingClientRect", "x", "clientX", "y", "clientY", "setState", "searchQuery", "document", "getElementById", "value", "trim", "toLowerCase", "key", "globalSearchHandler", "style", "cursor", "infos", "getSiteInfos", "selectionHandler", "siteInfos", "_this2", "loadImpMap", "loadTelMap", "onMouseMove", "setHoveredArea", "objectSpread", "getStyle", "placeholder", "onKeyDown", "ImageMapper_default", "getTipPosition", "Nom", "Adresse", "CodePostal", "Standard", "ResultsWindow", "searchResults", "doSearch", "handleInput", "generateBat", "s", "specials", "banalized", "i", "length", "currCar", "j", "indexOf", "data", "initQuery", "searchInput", "banalizeString", "terme", "Téléphone", "Mobile", "Fonction", "Interne", "Abrégé", "Site", "SST", "Type", "Emplacement", "Modèle", "headers", "_this3", "rows", "tabName", "result", "columns", "keys", "column", "info", "btnLabel", "MF", "role", "href", "Serveur", "rel", "IP", "adresse", "header", "getAdresse", "printerInfos", "printServerName", "PrintServer", "printerName", "PrinterName", "filename", "blob", "Blob", "window", "navigator", "msSaveOrOpenBlob", "msSaveBlob", "elem", "URL", "createObjectURL", "download", "body", "appendChild", "click", "removeChild", "_this4", "console", "log", "resultTabHeaders", "getTabHeaders", "resultsRows", "getResultsRows", "searchHeader", "getSearchHeader", "print", "contient", "pListe", "pElement", "formatNum", "pNum", "MapController", "selectedSiteID", "selectedSiteInfos", "refWorkbook", "globalSearchQuery", "loaded", "depots", "nomades", "handleSiteSelection", "handleGlobalSearch", "loadRef", "sst", "getComm", "getDepots", "newProps", "resetMap", "req", "XMLHttpRequest", "open", "responseType", "onload", "Uint8Array", "response", "workbook", "XLSX", "read", "getData", "send", "sheetJson", "utils", "sheet_to_json", "Sheets", "pSheetName", "toString", "index", "Nomade", "Balise", "nom", "Prénom", "newData", "Id", "Int", "Place", "NomTechnique", "AdresseIP", "ServeurImpression", "pSiteInfos", "pSearchQuery", "content", "src_Map", "src_ResultsWindow", "getContent", "ContentWindow", "accesRapides", "liensRapides", "liensDocumentation", "lignes", "Math", "ceil", "ligne", "lien", "Lien", "Image", "substr", "liens", "categories", "nomCategorie", "Categorie", "url", "categorie", "src_MapController", "titresMenus", "App", "handleMenuChange", "findGetParameter", "parameterName", "tmp", "location", "search", "item", "decodeURIComponent", "newMenu", "mapResetSig", "wrapperTag", "src_NavBar", "src_ContentWindow", "ReactDOM", "render", "src_App"],
    "mappings": "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",
    "file": "static/js/main.baa2b236.chunk.js",
    "sourcesContent": ["import React from 'react';\r\n\r\n/** \r\n * Composant Bouton permettant de naviguer entre les menus.\r\n * Propriétés reçues par NavBar :\r\n * - id : numéro du bouton et numéro du menu lui correspondant.\r\n * - selected : booléen indiquant si le bouton correspond au menu actuel. Permet de le mettre en évidence.\r\n * - btnAction : fonction appelée lors d'un clique sur un NavButton. Fait référence à **handleMenuChange** de App.\r\n * - img : chemin d'accès à l'image du bouton\r\n */\r\n\r\nconst NavButton = (props) => {\r\n    let selectedTag = props.selected ? \" selected\" : \"\";\r\n    return (\r\n        <button title={props.title} className={`NavButton btn btn-light container${selectedTag} `} type=\"button\" onClick={() => props.btnAction(props.id)}>\r\n            <img alt=\"\" src={props.img}/>\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default NavButton;", "import React from 'react';\nimport NavButton from './NavButton';\n\n/** Liste qui associe un nom de bouton à son ID et le nom de son icône. */\nconst ButtonsInfos = [\n                        [0, \"Accueil\", \"home.png\"],\n                        [1, \"Liste téléphonique\", \"phone.png\"],\n\t\t\t\t\t\t\t\t[2, \"Imprimantes & Scanners\", \"printer.png\"],\n                        [3, \"Liens rapides\", \"ie.png\"],\n                        [4, \"Documentation\", \"file.png\"],\n                     ];\n\n/**\n * Composant représentant la barre latérale de navigation.\n * Propriétés reçues depuis App :\n * - menu : numéro du menu actuel\n * - btnAction : fonction appelée lors d'un clique sur un NavButton. Fait référence à **handleMenuChange** de App.\n */\nclass NavBar extends React.Component {\n\n    /**\n     * Pour chaque description de bouton présente dans le tableau ButtonsInfos,\n     * génère un composant NavButton, le crée, et l'ajoute aux composants à afficher.\n     * @return {liste de NavButton} buttons - Liste des composants à afficher.\n     */\n    generateButtons() {\n        let buttons = [];\n        ButtonsInfos.forEach(button => {\n            buttons.push(<li><NavButton id={button[0]}\n                                        title={button[1]}\n                                        selected={this.props.menu === button[0]}\n                                        btnAction={this.props.btnAction}\n                                        img={`./icons/${button[2]}`}\n                                        />\n                         </li>\n                        );\n        });\n        return buttons;\n    }\n\n    /**\n     * Affichage du composant :\n     * Affiche les boutons récupérés à partir de **generateButtons**\n     */\n    render() {\n        return (\n            <nav id=\"NavBar\">\n                <ul className=\"list-unstyled components no-print\">\n                        {this.generateButtons()}\n                </ul>\n            </nav>\n        );\n    }\n}\n\nexport default NavBar;\n", "import React from 'react';\r\nimport ImageMapper from 'react-image-mapper';\r\n\r\n/** Chemin de la carte utilisée pour la liste téléphonique */\r\nconst IMG_TEL = (\"./img/carteTel.png\");\r\n\r\n/** Chemin de la carte utilisée pour la liste des imprimantes et scanners */\r\nconst IMG_IMP = (\"./img/carteImp.png\");\r\n\r\n/** Initialisation des tableaux de zones cliquables */\r\nlet IMP_AREAS = {\r\n    name: \"sites\",\r\n    areas: []\r\n};\r\n\r\nlet TEL_AREAS = {\r\n    name : \"sites\",\r\n    areas: []\r\n};\r\n\r\n/**\r\n * Composant affichant une carte des différents sites du groupe, et permettant de les sélectionner pour récupérer les données correspondante.\r\n * Propriétés :\r\n * - menu : identifiant du menu courant de l'application, permet de déterminer quelle carte afficher.\r\n * - selectionHandler : Fonction appelée lorsqu'un site est sélectionné. Fait référence à **handleSiteSelection** de MapController.\r\n * - globalSearchHandler : Fonction appelée lorsqu'un recherche globale est faite depuis la carte.\r\n *                         Fait référence à **handleGlobalSearch** de MapController.\r\n * - sitesInfos : Informations de tous les sites, permet l'affichage d'infos lors du survolage d'un site avec le curseur.\r\n */\r\nclass Map extends React.Component {\r\n    /**\r\n     * - hoveredArea : zone cliquable actuellement survolée par la souris.\r\n     */\r\n    state = {\r\n                hoveredArea: null\r\n            };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.globalSearch = this.globalSearch.bind(this);\r\n    }\r\n\r\n    loadImpMap() {\r\n        IMP_AREAS = {\r\n            name: \"sites\",\r\n            areas: []\r\n        };\r\n        this.props.sitesInfos.forEach( row => {\r\n            if (row.Coords && row.ID !== \"Comm\") {\r\n                let xa = parseInt(row.Coords.split(',')[0]);\r\n                let ya = parseInt(row.Coords.split(',')[1]);\r\n                let xb = parseInt(row.Coords.split(',')[2]);\r\n                let yb = parseInt(row.Coords.split(',')[3]);\r\n                IMP_AREAS.areas.push({\r\n                    id: row.ID,\r\n                    shape: \"rect\",\r\n                    coords: [xa,ya,xb,yb]\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    loadTelMap() {\r\n        TEL_AREAS = {\r\n            name : \"sites\",\r\n            areas: []\r\n        };\r\n        this.props.sitesInfos.forEach( row => {\r\n            if (row.Coords) {\r\n                let xa = parseInt(row.Coords.split(',')[0]);\r\n                let ya = parseInt(row.Coords.split(',')[1]);\r\n                let xb = parseInt(row.Coords.split(',')[2]);\r\n                let yb = parseInt(row.Coords.split(',')[3]);\r\n                TEL_AREAS.areas.push({\r\n                    id: row.ID,\r\n                    shape: \"rect\",\r\n                    coords: [xa,ya,xb,yb]\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Récupère et renvoie les infos (nom, adresse, numéro du standard) du site spécifié.\r\n     */\r\n    getSiteInfos(pSiteID) {\r\n        let res = undefined;\r\n        this.props.sitesInfos.forEach( row => {\r\n            if (row.ID === pSiteID) {\r\n                res = row;\r\n            }\r\n        });\r\n        return res;\r\n    }\r\n\r\n    // Fonctions permettant de gérer le comportement de la Map.\r\n    /**\r\n     * Détermine la position de la bulle d'informations à afficher lors du survol d'un site.\r\n     * @param {string} area - ID de la zone survolée.\r\n     */\r\n    getTipPosition(area) {\r\n        let centerX = (area.coords[0] + area.coords[2]) / 2;\r\n        let centerY = (area.coords[1] + area.coords[3]) / 2;\r\n        return { top: `${centerY+100}px`, left: `${centerX}px` };\r\n    }\r\n\r\n    setHoveredArea(e, map) {\r\n        let hoveredArea = null;\r\n        let rect = e.target.getBoundingClientRect();\r\n        let x = e.clientX - rect.left;\r\n        let y = e.clientY - rect.top;\r\n        // Verifie si le curseur est dans une des zones.\r\n        map.areas.forEach((area) => {\r\n            if (x >= area.coords[0] && x <= area.coords[2] && y >= area.coords[1] && y <= area.coords[3]) {\r\n                hoveredArea = area;\r\n            }\r\n        });\r\n        this.setState({hoveredArea: hoveredArea});\r\n    }\r\n\r\n    /**\r\n     * Lance une recherche globale en récupérant le terme de recherche contenu dans la barre de recherche,\r\n     * et en appelant la fonction **handleGlobalSearch** de MapController.\r\n     * @param {*} e - Si la fonction est appelée depuis un event onKeyDown, contient les infos de la touche pressée. Contient undefined sinon.\r\n    */\r\n    globalSearch(e) {\r\n        let searchInput = document.getElementById(\"searchBar\") ? document.getElementById(\"searchBar\").value : \"\";\r\n        let searchQuery = searchInput.trim().toLowerCase();\r\n        if ((e && e.key === \"Enter\") || !e ) {\r\n            this.props.globalSearchHandler(searchQuery);\r\n        }\r\n    }\r\n\r\n\t getStyle() {\r\n\t\t let style = {};\r\n\t\t if (this.state.hoveredArea) {\r\n\t\t\t style = {cursor: 'pointer'};\r\n\t\t }\r\n\t\t return style;\r\n\t }\r\n\r\n    /**\r\n     * Appelle la fonction **handleSiteSelection** de MapController lorsqu'une zone est sélectionnée.\r\n     */\r\n    onClick() {\r\n        if (this.state.hoveredArea) {\r\n            let infos = this.getSiteInfos(this.state.hoveredArea.id);\r\n            this.props.selectionHandler(infos);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Affichage du composant :\r\n     * Détermine si un site est survolé, et stock son ID le cas échéant,\r\n     * détermine quelle carte afficher selon le menu,\r\n     * gère l'apparition des bulles d'informations lors du survol de sites.\r\n     */\r\n    render() {      \r\n        let siteInfos, map, img;\r\n        if (this.state.hoveredArea)\r\n            siteInfos = this.getSiteInfos(this.state.hoveredArea.id);\r\n        if (this.props.menu === 2) {\r\n            this.loadImpMap();\r\n            map = IMP_AREAS;\r\n            img = IMG_IMP;\r\n        } else {\r\n            this.loadTelMap();\r\n            map = TEL_AREAS;\r\n            img = IMG_TEL;\r\n        }\r\n        return (\r\n            <div className=\"Map\" onMouseMove={(e) => this.setHoveredArea(e, map)} onClick={() => this.onClick()} style={{...this.getStyle()}}>\r\n                <div className=\"searchBar input-group mb-3 no-print\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <button className=\"searchButton btn btn-outline-secondary\" type=\"button\" onClick={() => this.globalSearch()}>\r\n                            <img alt=\"Rechercher\" src={'./icons/loupe.png'}/>\r\n                        </button>\r\n                    </div>\r\n                    <input id=\"searchBar\" type=\"text\" className=\"form-control\" placeholder=\"Recherche globale...\" onKeyDown={(e) => this.globalSearch(e)}></input>\r\n                </div>\r\n                <ImageMapper src={img}/>\r\n                {\r\n                    this.state.hoveredArea &&\r\n                    <span className=\"map_popup\"\r\n                        style={{ ...this.getTipPosition(this.state.hoveredArea)}}>\r\n                        <div className=\"siteName\">{siteInfos.Nom}</div>\r\n                        <div>{siteInfos.Adresse}</div>\r\n                        <div>{siteInfos.CodePostal}</div>\r\n                        <div>{siteInfos.Standard}</div>\r\n                    </span>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Map;\r\n", "import React from 'react';\r\n\r\n/**\r\n * Composant affichant la liste téléphonique ou la liste des imprimantes et scanners, \r\n * en fonction du menu et du site sélectionné, et permettant de faire des recherches sur les données récupérées.\r\n * Propriétés :\r\n * - menu :              Identifiant du menu courant de l'application, permet de déterminer comment traiter les données récupérés.\r\n * - data :                 Données récupérées depuis la feuille de calcul 'Imp' ou 'Tel', selon le menu,\r\n *                          et correspondant au site sélectionné.\r\n * - siteInfos :            Informations du site sélectionné. Correspond à une ligne de 'Sites'.\r\n * - globalSearchQuery :    Terme de recherche utilisé lors de recherches globales.\r\n *                          Récupéré depuis la barre de recherche de la carte. \r\n *                          Undefined en cas de recherche non-globale.\r\n */\r\n\r\n\r\n\r\nclass ResultsWindow extends React.Component {\r\n    \r\n    /**\r\n     * - searchResults : Liste des lignes de la propriété **data** qui correspondent à la recherche faite.\r\n     */\r\n    state = {\r\n        searchResults : []\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.doSearch = this.doSearch.bind(this);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.generateBat = this.generateBat.bind(this); \r\n    }\r\n    \r\n    /**\r\n    * Fonction du cycle de vie React, executée avant que le composant s'affiche.\r\n    * Execute une recherche avant d'afficher le composant, \r\n    * pour récupérer et afficher toutes les lignes qui correspondent au site sélectionné.\r\n    */\r\n    componentWillMount() {\r\n        this.doSearch();\r\n    }\r\n\r\n    /**\r\n     * Fonction appelée lorsqu'une touche est pressé dans la barre de recherche.\r\n     * Vérifie si la touche pressée est 'Enter', et lance la recherche le cas échéant.\r\n     * @param {*} e - Touche pressée. \r\n     */\r\n    handleInput(e) {\r\n        if (e.key === \"Enter\")\r\n            this.doSearch();\r\n    }\r\n\r\n    banalizeString(s) {\r\n        s = s.toLowerCase().trim();\r\n        let specials = [[\"à\"], [\"ç\"], [\"é\",\"è\",\"ê\",\"ë\"], [\"î\",\"ï\"], [\"ñ\"], [\"ô\"], [\"ù\"]];\r\n        let banalized = [\"a\",\"c\",\"e\",\"i\",\"n\",\"o\",\"u\"];\r\n        let res = \"\";\r\n        for (let i = 0; i < s.length; i++) {\r\n            let currCar = s[i];\r\n            for (let j = 0; j < specials.length; j++) {\r\n                if (specials[j].indexOf(currCar) >= 0)\r\n                    currCar = banalized[j];\r\n            }\r\n            res += currCar;\r\n        }\r\n        return res;\r\n    }\r\nn\r\n    /**\r\n     * Sélectionne dans la propritété **data** les lignes qui correspondent à l'état **searchQuery**.\r\n     * Stocke les résultats dans l'état **searchResults**.\r\n     */\r\n    doSearch() {\r\n        let data = this.props.data;\r\n        let res = [];\r\n        let searchQuery;\r\n        if (this.props.initQuery) {\r\n            searchQuery = this.props.initQuery;\r\n        } else {\r\n            let searchInput = document.getElementById(\"searchBar\") ? document.getElementById(\"searchBar\").value : \"\";\r\n            searchQuery = this.banalizeString(searchInput);\r\n        }\r\n\r\n        data.forEach( (row) => {\r\n            // Si on fait une recherche sur la liste téléphonique\r\n            searchQuery.split(' ').forEach((terme) => {\r\n                if (this.props.menu === 1) {\r\n                    if (this.banalizeString(row.Nom).indexOf(terme) >= 0 || \r\n                        this.banalizeString(row.Téléphone).indexOf(terme) >= 0 ||\r\n                        this.banalizeString(row.Mobile).indexOf(terme) >= 0 ||\r\n                        this.banalizeString(row.Fonction).indexOf(terme) >= 0 ||\r\n                        this.banalizeString(row.Interne).indexOf(terme) >= 0 ||\r\n                        this.banalizeString(row.Abrégé).indexOf(terme) >= 0 ||\r\n                        this.banalizeString(row.Site).indexOf(terme) >= 0 ||\r\n                        this.banalizeString(row.SST).indexOf(terme) >= 0)\r\n                            res.push(row);\r\n                }\r\n                // Si on fait une recherche sur les imprimantes et scanneurs\r\n                if (this.props.menu === 2) {\r\n                    if (row.Type.toLowerCase().indexOf(terme) >= 0 ||\r\n                        row.Emplacement.toLowerCase().indexOf(terme) >= 0 ||\r\n                        row.Nom.toLowerCase().indexOf(terme) >= 0 ||\r\n                        row.Modèle.toLowerCase().indexOf(terme) >= 0 ||\r\n                        row.Site.toLowerCase().indexOf(terme) >= 0 )\r\n                            res.push(row);\r\n                }\r\n            });\r\n        });\r\n        this.setState({searchResults: res});\r\n    }   \r\n\r\n    /** Génère les en-têtes du tableau des résultats en fonction du menu (Liste Téléphonique, ou Imprimante et Scanners).\r\n     * @return {liste de composants} headers - Liste des en-têtes des colonnes du tableau.\r\n     */\r\n    getTabHeaders() {\r\n        let headers = [];\r\n        if (this.props.menu === 2) {\r\n            headers.push(<th className=\"imp-Site\">Site</th>);\r\n            headers.push(<th className=\"imp-Emplacement\">Emplacement</th>);\r\n            headers.push(<th className=\"imp-Type\">Type</th>);\r\n            headers.push(<th className=\"imp-Nom\">Nom</th>);\r\n            headers.push(<th className=\"imp-Modèle\">Modèle</th>);\r\n            headers.push(<th className=\"imp-Actions no-print\">Actions</th>);\r\n        }\r\n\r\n        if (this.props.menu === 1) {\r\n            headers.push(<th className=\"tel-Site\">Site</th>);\r\n            headers.push(<th className=\"tel-Nom\">Nom</th>);\r\n            headers.push(<th className=\"tel-Fonction\">Fonction</th>);\r\n            headers.push(<th className=\"tel-Téléphone\">Téléphone</th>);\r\n            headers.push(<th className=\"tel-Interne\">Interne</th>);\r\n            headers.push(<th className=\"tel-Mobile\">Mobile</th>);\r\n            headers.push(<th className=\"tel-Abrégé\">Abrégé</th>);\r\n        }\r\n        return headers;\r\n    }\r\n\r\n    /**\r\n     * Traite les données récupérées après une recherche \r\n     * en générant les composants HTML permettant de les afficher dans le tableau des résultats.\r\n     * @return {liste de composants} rows - Liste des lignes du tableau des résultats.\r\n     */\r\n    getResultsRows() {\r\n        let rows = [];\r\n        let tabName = this.props.menu === 2 ? \"imp-\" : \"tel-\"; \r\n\r\n        this.state.searchResults.forEach((result) => {\r\n            let columns = [];\r\n            Object.keys(result).forEach((column) => {\r\n                if (column !== \"Id\" && column !== \"MF\" && column !== \"IP\" && column !== \"Serveur\" && column !== \"SST\") {\r\n                    let info = [];\r\n                    if (column === \"Nom\" && result['SST'])\r\n                        info.push(<img className=\"lst_icon\" src={`./icons/sst.png`} alt=\"\"></img>);\r\n                    columns.push(\r\n                        <td className={`${tabName}${column}`}>{result[column]}{info}</td>\r\n                    );\r\n                }\r\n            });\r\n\r\n            // Boutons pour imprimantes\r\n            if (this.props.menu === 2) {\r\n                let buttons = [];\r\n                let btnLabel = result.MF === \"Fax\" ? \"Fax\" : \"imprimante\";\r\n                buttons.push(\r\n                    <a className=\"premierButton btn btn-light\" role=\"button\" href={`installprinter:${result.Serveur}---${result.Nom}`}>Installer {btnLabel}</a>\r\n                );\r\n                if (result.MF && result.MF === \"MF\") {\r\n                    buttons.push(\r\n                        <a rel=\"noopener noreferrer\" target=\"_blank\" className=\"secondButton btn btn-light\" role=\"button\" href={`http://${result.IP}`}>Documents scannés</a>\r\n                    );\r\n                }\r\n                if (result.MF === \"Fax\") {\r\n                    buttons.push(\r\n                        <a rel=\"noopener noreferrer\" target=\"_blank\" className=\"secondButton btn btn-light\" role=\"button\" href={`http://${result.IP}`}>Journal transmissions</a>\r\n                    );\r\n                }\r\n                columns.push(<td className={`${tabName}Actions no-print`}>{buttons}</td>);\r\n            }\r\n        \r\n            rows.push(\r\n                <tr className=\"result\">{columns}</tr>\r\n            );\r\n        });\r\n        return rows;\r\n    }\r\n\r\n    getAdresse() {\r\n        let adresse = this.props.siteInfos.Adresse ? this.props.siteInfos.Adresse : \"\";\r\n        if (this.props.siteInfos.CodePostal)\r\n            adresse += \", \"+this.props.siteInfos.CodePostal;\r\n        return adresse;\r\n    }\r\n\r\n    getSearchHeader() {\r\n        let header = [];\r\n        header.push(<h1>{this.props.siteInfos.Nom}</h1>);\r\n        header.push(<h3>{this.getAdresse()}</h3>);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * Génère un fichier .bat permettant d'installer l'imprimante sélectionnée, et lance le téléchargement du fichier.\r\n     * @param {*} printerInfos - Informations de l'imprimante, au format {PrintServer, PrinterName}\r\n     */\r\n    generateBat(printerInfos) {\r\n        let printServerName = printerInfos.PrintServer;\r\n        let printerName = printerInfos.PrinterName;\r\n        let cmd = \"rundll32 printui.dll PrintUIEntry /in /n\\\\\\\\\"+printServerName+\"\\\\\"+printerName;\r\n        let filename = \"Fichier installation \" + printerName + \".bat\";\r\n        let blob = new Blob([cmd], {type:'text/bat'});\r\n        if (window.navigator.msSaveOrOpenBlob) {\r\n            window.navigator.msSaveBlob(blob, filename);\r\n        }\r\n        else {\r\n            var elem = window.document.createElement('a');\r\n            elem.href = window.URL.createObjectURL(blob);\r\n            elem.download = filename;        \r\n            document.body.appendChild(elem);\r\n            elem.click();        \r\n            document.body.removeChild(elem);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Affichage du composant :\r\n     * Génère et affiche le tableau des résultats en récupérant les en-têtes et les lignes de résultat.\r\n     */\r\n    render() {\r\n        console.log(this.props.siteInfos);\r\n        let resultTabHeaders = this.getTabHeaders();\r\n        let resultsRows = this.getResultsRows();\r\n        let searchHeader = [];\r\n        let adresse = \"\";\r\n        if (this.props.siteInfos !== \"\") {\r\n            searchHeader = this.getSearchHeader();\r\n            adresse = this.getAdresse();\r\n        }\r\n\t\tlet info;\r\n\t\tif (this.props.menu === 1)\r\n\t\t\tinfo = '* = Abrégé accessible sur tous les postes téléphoniques';\r\n        return  (\r\n                    <div id=\"ResultsWindow\">\r\n                        <div className=\"results-container\">\r\n                            <div className=\"searchHeader container\">\r\n                                 {searchHeader}\r\n                            </div>\r\n                            <div className=\"searchBar input-group mb-3 no-print\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <button title=\"Lancer la recherche\" className=\"searchButton btn btn-outline-secondary\" type=\"button\" onClick={() => this.doSearch()}>\r\n                                        <img alt=\"Rechercher\" src={'./icons/loupe.png'}/>\r\n                                    </button>\r\n                                </div>\r\n                                <input id=\"searchBar\" type=\"text\" className=\"form-control\" placeholder=\"Recherche...\" onKeyDown={this.handleInput}></input>\r\n                                <div className=\"input-group-prepend\">\r\n                                    <button title=\"Imprimer la liste actuelle\" className=\"printButton btn btn-outline-secondary\" type=\"button\" onClick={() => window.print()}>\r\n                                        <img alt=\"Imprimer\" src={'./icons/printer.png'}/>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\t\t\t\t\t\t\t<p className=\"info\">{info}</p>\r\n                            <div>\r\n                                <table className=\"resultTab\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            {resultTabHeaders}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {resultsRows}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n    }\r\n\r\n}\r\n\r\nexport default ResultsWindow;", "import React from 'react';\r\nimport XLSX from 'xlsx';\r\nimport Map from './Map';\r\nimport ResultsWindow from './ResultsWindow';\r\n\r\n/**\r\n * Chemin du référentiel.\r\n */\r\nconst cheminReferentiel = \"./data/referentiel.xlsx\";\r\n\r\n/**\r\n * Remplace le fonction 'includes' des liste, car incompatible sur IE.\r\n * Vérifie si la liste 'pListe' contient l'élement 'pElement'.\r\n * @param {liste} pListe - Liste à traiter.\r\n * @param {element à trouver} pElement - Element à trouver.\r\n */\r\nconst contient = (pListe, pElement) => {\r\n    let res = false;\r\n    for (let i = 0; i < pListe.length; i++) {\r\n        if (pListe[i] === pElement)\r\n        {\r\n            res = true;\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n* Enlève les espaces d'un numéro de téléphone.\r\n* Nécessaire pour pouvoir faire des recherches sur les numéros de téléphone.\r\n* @param {string} pNum - Numéro à formater\r\n*/\r\nconst formatNum = (pNum) => {\r\n    let res = \"\";\r\n        for (let i = 0; i < pNum.length; i++)\r\n            if (pNum[i] !== \" \")\r\n                res += pNum[i];\r\n        return res;\r\n};\r\n\r\n/**\r\n * Composant gérant l'affichage de la carte, la récupération des données du référentiel et leur exploitation.\r\n * Propriétés reçues depuis ContentWindow:\r\n * - menu : identifiant du menu courant de l'application, permet de déterminer quelle carte afficher.\r\n * - resetMap : force l'affichage de la carte lorsque l'utilisateur clique sur le bouton \"Imprimantes et scanners\"\r\n *              ou \"Liste téléphonique\" alors qu'il est déjà dans l'un de ces menus.\r\n */\r\nclass MapController extends React.Component {\r\n\r\n    /**\r\n     * - selectedSiteID :       Identifiant du site sélectionné depuis la carte.\r\n     * - selectedSiteInfos :    Informations du site sélectionné depuis la carte.\r\n     *                          Obtenus depuis la ligne correspondant à l'identifiant du site dans la feuille Sites du référentiel.\r\n     * - refWorkbook :          Fichier Excel du référentiel. Contient l'ensembles des feuilles de calculs et leurs données.\r\n     * - sitesInfos :           Informations de tous les sites présents sur la carte. Extraits de la feuille de calcul 'Sites'.\r\n     *                          Passé au composant Map pour permettre l'affichage lors du survolage avec le curseur.\r\n     * - globalSearchQuery :    Terme de recherche utilisé lors de recherches globales.\r\n     *                          Récupéré depuis la barre de recherche de la carte.\r\n     *                          Undefined en cas de recherche non-globale.\r\n     * - loaded :               Booléen, empêche l'affichage du composant avant que toutes les opérations nécessaires soient terminées.\r\n     */\r\n    state = {\r\n                selectedSiteID: undefined,\r\n                selectedSiteInfos: undefined,\r\n                refWorkbook: undefined,\r\n                sitesInfos: undefined,\r\n                globalSearchQuery : undefined,\r\n                loaded: false,\r\n                depots: undefined,\r\n                nomades : undefined\r\n            };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSiteSelection = this.handleSiteSelection.bind(this);\r\n        this.handleGlobalSearch = this.handleGlobalSearch.bind(this);\r\n    }\r\n\r\n    /**\r\n     * Fonction du cycle de vie React.\r\n     * Avant l'affichage du composant, lance la fonction loadRef.\r\n     */\r\n    componentWillMount() {\r\n        this.loadRef();\r\n        if (this.props.sst)\r\n            this.setState({selectedSiteID: \"SST\"});\r\n    }\r\n\r\n    /**\r\n     * Fonction du cycle de vie React.\r\n     * Dès qu'un état ou une propriété du composant est modifié, vérifie si les données du référentiel sont chargées,\r\n     * et met l'état 'loaded' à vrai le cas échéant.\r\n     */\r\n    componentDidUpdate() {\r\n        if (this.state.refWorkbook && !this.state.nomades && !this.state.loaded)\r\n            this.getComm();\r\n        if (this.state.refWorkbook && !this.state.depots && !this.state.loaded)\r\n            this.getDepots();\r\n        if (this.state.refWorkbook && this.state.sitesInfos && this.state.depots && this.state.nomades && !this.state.loaded)\r\n            this.setState({loaded: true});\r\n\r\n    }\r\n\r\n    /**\r\n     * Fonction du cycle de vie React, appelée lorsqu'un composant reçoit de nouvelles propriétés.\r\n     * Ici, permet de réinitialiser l'état du composant pour forcer l'affichage de la carte si réception du signal **resetMap**.\r\n     * @param {*} newProps -\r\n     */\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.resetMap && !this.props.resetMap)\r\n            this.setState({selectedSiteID: undefined});\r\n    }\r\n\r\n    /**\r\n     * Récupère et renvoie les infos (nom, adresse, numéro du standard) du site spécifié.\r\n     */\r\n    getSiteInfos(pSiteID) {\r\n        let res = undefined;\r\n        this.state.sitesInfos.forEach( row => {\r\n            if (row.ID === pSiteID) {\r\n                res = row;\r\n            }\r\n        });\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * Charge les données du référentiel dans l'état 'refWorkbook' du composant, et récupère les infos des sites dans l'état 'sitesInfos'.\r\n     * Récupère le fichier du référentiel via requête HTTP, et rend utilisable le résultat de la requête avec le module XLSX.\r\n     */\r\n    loadRef() {\r\n        let req = new XMLHttpRequest();\r\n        req.open(\"GET\", cheminReferentiel, true);\r\n        req.responseType = \"arraybuffer\";\r\n        req.onload = () => {\r\n            let data = new Uint8Array(req.response);\r\n            let workbook = XLSX.read(data, {type:\"array\"});\r\n            // Stockage du référentiel.\r\n            this.setState({refWorkbook: workbook});\r\n            // Récupération des informations des sites.\r\n            let infos = this.getData(\"Sites\");\r\n            this.setState({sitesInfos: infos});\r\n        };\r\n        req.send(null);\r\n    }\r\n\r\n    /**\r\n     * Récupère les noms des différentes marques ou types de commerciaux.\r\n     */\r\n    getComm() {\r\n        let workbook = this.state.refWorkbook;\r\n        let sheetJson = XLSX.utils.sheet_to_json(workbook.Sheets[\"Sites\"]);\r\n\r\n        let res = [];\r\n\r\n        sheetJson.forEach( (row) => {\r\n            if (row.ID === \"Comm\" && !row.Coords) {\r\n                res.push(row.Nom);\r\n            }\r\n        });\r\n        this.setState({nomades: res});\r\n    }\r\n\r\n    getDepots() {\r\n        let workbook = this.state.refWorkbook;\r\n        let sheetJson = XLSX.utils.sheet_to_json(workbook.Sheets[\"Sites\"]);\r\n\r\n        let res = [];\r\n\r\n        sheetJson.forEach( (row) => {\r\n            if (row.ID === \"Depots\" && !row.Coords) {\r\n                res.push(row.Nom);\r\n            }\r\n        });\r\n        this.setState({depots: res});\r\n    }\r\n\r\n\r\n    /**\r\n     * Récupère au format JSON la feuille de calcul du référentiel dont le nom donné en paramètre.\r\n     * @param {string} pSheetName - Nom de la feuille de calcul à récupérer.\r\n     */\r\n    getData(pSheetName) {\r\n        let workbook = this.state.refWorkbook;\r\n        let sheetJson = XLSX.utils.sheet_to_json(workbook.Sheets[pSheetName]);\r\n\r\n        // Nettoyage des informations stockées dans la fiche sélectionnée.\r\n        sheetJson.forEach( (row) => {\r\n            Object.keys(row).forEach( (column) => {\r\n                row[column] = row[column].toString().trim();\r\n            });\r\n        });\r\n\r\n        // Récupération des informations utiles, selon la feuille de calculée demandée.\r\n        let data = [];\r\n        // Peu importe la feuille de calcul, on itère sur toutes lignes.\r\n        sheetJson.forEach( (row, index) => {\r\n            if (pSheetName === \"Sites\") {\r\n                if (row.Coords) {\r\n                    data.push(row);\r\n                }\r\n            }\r\n            /**\r\n             * Dans la liste téléphonique, on ne récupère les lignes que si :\r\n             * - Le site de la ligne courante est le même que le site sélectionné sur la carte, ou si\r\n             * - le site est inclus dans l'état __nomades__ quand on a sélectionné les commerciaux, ou si\r\n             * - le site est inclus dans l'état __depots__ quand on a sélectionné les dépôts, ou si\r\n             * - la ligne n'est pas un commentaire (Balise = #),\r\n             */\r\n            else if (pSheetName === \"Tel\") {\r\n                if (( (row.Site === this.state.selectedSiteID ||\r\n                    (this.state.selectedSiteID === \"Comm\" && (contient(this.state.nomades, row.Site) || row.Nomade)) ||\r\n                    (this.state.selectedSiteID === \"SST\" && row.SST) ||\r\n                    (this.state.selectedSiteID === \"Depots\" && contient(this.state.depots, row.Site))) &&\r\n                       row.Balise !== \"#\") ||\r\n                       this.state.selectedSiteID === \"*\") {\r\n                    let nom = (row.Nom ? row.Nom : \"\") + \" \" + (row.Prénom ? row.Prénom : \"\");\r\n                    let newData = {\r\n                                    Id: index,\r\n                                    Site: (row.Site ? row.Site : \"\"),\r\n                                    Nom: nom,\r\n                                    Fonction: (row.Fonction ? row.Fonction : \"\"),\r\n                                    Téléphone: (row.Téléphone ? formatNum(row.Téléphone) : \"\"),\r\n                                    Interne: (row.Int ? row.Int : \"\"),\r\n                                    Mobile: (row.Mobile ? formatNum(row.Mobile) : \"\"),\r\n                                    Abrégé: (row.Abrégé ? row.Abrégé : \"\"),\r\n                                    SST: (row.SST ? \"SST\" : \"\")\r\n                                  };               \r\n                    data.push(newData);\r\n                }\r\n            }\r\n            /**\r\n             * Dans la liste des imprimantes et scanners, on ne récupère les lignes que si :\r\n             * - Le site de la ligne courante est le même que le site sélectionné sur la carte, ou si\r\n             * - le site est inclus dans la liste __depots__ quand on a sélectionné les dépôts, ou si\r\n             * - la ligne n'est pas un commentaire (Balise = #).\r\n             */\r\n            else if (pSheetName === \"Imp\") {\r\n                if (row.Site === this.state.selectedSiteID || this.state.selectedSiteID === \"*\" ||\r\n                    (this.state.selectedSiteID === \"Depots\" && contient(this.state.depots, row.Site))) {\r\n                    let newData = {\r\n                        Id: index,\r\n                        Site: (row.Site ? row.Site : \"\"),\r\n                        Emplacement: (row.Place ? row.Place : \"\"),\r\n                        Type: (row.Type ? row.Type : \"\"),\r\n                        Nom: (row.NomTechnique ? row.NomTechnique : \"\"),\r\n                        Modèle: (row.Modèle ? row.Modèle : \"\"),\r\n                        MF: (row.MF ? row.MF : \"\"),\r\n                        IP: (row.AdresseIP ? row.AdresseIP : \"\"),\r\n                        Serveur: (row.ServeurImpression ? row.ServeurImpression : \"\")\r\n                        };\r\n                data.push(newData);\r\n                }\r\n            }\r\n        });\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Permet de changer l'état 'selectedSiteID' de MapController l'ID du site sélectionné.\r\n     * Transmise au component Map enfant, et appelée lors d'un clique sur un site.\r\n     * @param {Ligne de 'Sites'} pSiteInfos - Objet contenant les informations du site sélectionné.\r\n     */\r\n    handleSiteSelection(pSiteInfos) {\r\n        this.setState({selectedSiteID: pSiteInfos.ID});\r\n        this.setState({selectedSiteInfos: pSiteInfos});\r\n    }\r\n\r\n    /**\r\n     * Permet de changer l'état 'selectedSiteID' de MapController pour indiquer qu'on fait une recherche globale.\r\n     * Stocke la terme de recherche dans l'état 'globalSearchQuery'.\r\n     * Transmise au component Map enfant, et appelée lorsqu'une recherche est faite depuis la carte.\r\n     * @param {string} pSearchQuery - Chaîne de caractère du terme de la recherceh globale.\r\n     */\r\n    handleGlobalSearch(pSearchQuery) {\r\n        this.setState({selectedSiteID: \"*\"});\r\n        this.setState({globalSearchQuery: pSearchQuery});\r\n        this.setState({selectedSiteInfos: \"\"});\r\n    }\r\n\r\n    /**\r\n     * Détermine le contenu à afficher selon le menu sélectionné, et selon le site sélectionné :\r\n     * - Si aucun site n'a été sélectionné (état selectedSiteID à undefined), affiche la carte.\r\n     * - Si un site a été sélectionné (état selectedSiteID défini), récupére les données correspondantes au menu actuel\r\n     *   (Liste tèl. ou Imprimantes & Scanners) et affiche les résultats.\r\n     * @return {liste de composants} content - Liste des composants à afficher.\r\n     */\r\n    getContent() {\r\n        let content = [];\r\n        // Si aucun site n'a été sélectionné via la carte\r\n        if (this.state.selectedSiteID === undefined) {\r\n            content.push(\r\n                            <Map selectionHandler={this.handleSiteSelection} globalSearchHandler={this.handleGlobalSearch} sitesInfos={this.state.sitesInfos} menu={this.props.menu}/>\r\n                        );\r\n        }\r\n        // Sinon, c'est qu'un site a été sélectionné\r\n        else {\r\n            let data = [];\r\n            let globalSearchQuery = this.state.globalSearchQuery ? this.state.globalSearchQuery : \"\";\r\n            if (this.props.menu === 2)\r\n                data = this.getData(\"Imp\");\r\n            if (this.props.menu === 1)\r\n                data = this.getData(\"Tel\");\r\n            if (this.props.sst) {\r\n                // eslint-disable-next-line\r\n                this.state.selectedSiteInfos = this.getSiteInfos(\"SST\");\r\n            }\r\n            content.push(\r\n                            <ResultsWindow menu={this.props.menu} data={data} siteInfos={this.state.selectedSiteInfos} globalSearchQuery={globalSearchQuery}/>\r\n                        );\r\n        }\r\n        return content;\r\n    }\r\n\r\n    /**\r\n     * Affichage du composant :\r\n     * Si les données ont été chargées, affiche le résultat de **getContent**.\r\n     * Sinon n'affiche rien.\r\n     */\r\n    render() {\r\n        let content = this.state.loaded ? this.getContent() : [];\r\n        return(\r\n            <div id=\"map-controller\">\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapController;\r\n", "import React from 'react';\r\nimport MapController from './MapController';\r\nimport XLSX from 'xlsx';\r\n\r\n/**\r\n * Gestionnaire du contenu à afficher dans la page.\r\n * Propriétés reçues depuis App:\r\n * - menu : identifiant du menu courant de l'application.\r\n * - resetMap : permet d'envoyer un signal au composant MapController pour forcer l'affichage de la carte.\r\n */\r\nclass ContentWindow extends React.Component {\r\n\r\n    /**\r\n     * - accesRapides : Feuille de calcul 'Acces rapides' du fichier 'liens.xlsx', au format JSON.\r\n     *                  Liste des accès rapides à afficher dans le menu Accueil.\r\n     * - liensRapides : Feuille de calcul 'Liens rapides' du fichier 'liens.xlsx', au format JSON.\r\n     *                  Liste des liens rapides à afficher dans le menu Liens rapides.\r\n     * - liensDocumentation :   Feuille de calcul 'Documentation' du fichier 'liens.xlsx', au format JSON.\r\n     *                          Liste de la documentation à afficher dans le menu Documentation.\r\n     * - loaded :   Booléen, vrai lorsque les données nécessaires sont chargées, et que le composant\r\n     *              peut être affiché.\r\n     */\r\n    state = {\r\n        accesRapides : undefined,\r\n        liensRapides : undefined,\r\n        liensDocumentation : undefined,\r\n        loaded : false\r\n    };\r\n\r\n    /**\r\n     * Fonction du cycle de vie React.\r\n     * Avant l'affichage du composant, lance la fonction getData.\r\n     */\r\n    componentWillMount() {\r\n        this.getData();\r\n    }\r\n\r\n    /**\r\n     * Fonction du cycle de vie React.\r\n     * Dès qu'un état ou une propriété est modifié, vérifie si toutes les feuilles de calcul\r\n     * sont chargées, et met l'état **loaded** à vrai le cas échéant.\r\n     */\r\n    componentDidUpdate() {\r\n        if (this.state.accesRapides && this.state.liensRapides && this.state.liensDocumentation && !this.state.loaded)\r\n            this.setState({loaded: true});\r\n    }\r\n\r\n    /**\r\n     * Récupére les feuilles de calcul 'Acces Rapides', 'Liens Rapides', 'Documentation' et\r\n     * les stocke dans les états correspondants.\r\n     */\r\n    getData() {\r\n        // Récupération du fichier Excel\r\n        let req = new XMLHttpRequest();\r\n        req.open(\"GET\", \"./data/liens.xlsx\", true);\r\n        req.responseType = \"arraybuffer\";\r\n        req.onload = () => {\r\n            let response = new Uint8Array(req.response);\r\n            let data = XLSX.read(response, {type:\"array\"});\r\n            // Stockage des feuilles de calcul\r\n            this.setState({accesRapides: XLSX.utils.sheet_to_json(data.Sheets['Acces rapides'])});\r\n            this.setState({liensRapides: XLSX.utils.sheet_to_json(data.Sheets['Liens rapides'])});\r\n            this.setState({liensDocumentation: XLSX.utils.sheet_to_json(data.Sheets['Documentation'])});\r\n        };\r\n        req.send(null);\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * Génère et renvoie le contenu à afficher, en fonction du menu actuellement sélectionné.\r\n     */\r\n    getContent() {\r\n        let content = [];\r\n        // Menu 'Accueil'\r\n        if (this.props.menu === 0)\r\n        {\r\n            let lignes = [];        // Ensemble des rangées de boutons\r\n            for (let i = 0; i < Math.ceil(this.state.accesRapides.length/3); i++) {\r\n                let ligne = [];     // Une rangée de boutons\r\n                for (let j = 3*i; j < 3*i+3; j++) {\r\n                    let lien = this.state.accesRapides[j];\r\n                    if (lien !== undefined) {\r\n                        ligne.push(\r\n                                <div className=\"col-sm\">\r\n                                    <a rel=\"noopener noreferrer\" className=\"acces btn btn-outline-dark\" role=\"button\" href={lien.Lien}>\r\n                                        <img src={'./icons/' + lien.Image} alt={lien.Image.substr(0,lien.Image.length-4)}/> <br/>\r\n                                        <span>{lien.Nom}</span>\r\n                                    </a>\r\n                                </div>\r\n                        );\r\n                    }\r\n                }\r\n                lignes.push(\r\n                        <div className=\"row\">\r\n                            {ligne}\r\n                        </div>\r\n                );\r\n            }\r\n            content.push(lignes);\r\n        }\r\n        // Menu 'Liens Rapides' et 'Documentations'\r\n        if (this.props.menu === 3 || this.props.menu === 4)\r\n        {\r\n            let liens = this.props.menu === 3 ? this.state.liensRapides : this.state.liensDocumentation;\r\n\r\n            let categories = [];\r\n            let nomCategorie = \"\";\r\n            liens.forEach( (lien, index) => {\r\n                if (lien.Categorie !== nomCategorie) {\r\n                    nomCategorie = lien.Categorie;\r\n                    categories.push([nomCategorie, []])\r\n                }\r\n\r\n                let url = this.props.menu === 3 ? lien.Lien : `.${lien.Lien}`;\r\n\r\n                categories[categories.length-1][1].push(\r\n                    <div className=\"col-3\">\r\n                        <a rel=\"noopener noreferrer\" target=\"_blank\" className=\"rapide btn btn-light\" role=\"button\" href={url}>\r\n                            <span>{lien.Nom}</span>\r\n                        </a>\r\n                    </div>\r\n                );\r\n            });\r\n\r\n            categories.forEach( (categorie) => {\r\n                content.push(\r\n                    <div className=\"category\">\r\n                        <div className=\"category-name\">{categorie[0]}</div>\r\n                        <div className=\"container\">\r\n                            <div className=\"row justify-content-center\">{categorie[1]}</div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n\r\n            });\r\n        }\r\n        // Menus 'Imprimantes & Scanneurs' et 'Liste téléphonique'\r\n        if (this.props.menu === 1 || this.props.menu === 2)\r\n        {\r\n            content.push(<MapController menu={this.props.menu} resetMap={this.props.resetMap} sst={this.props.sst} />);\r\n        }\r\n        return content;\r\n    }\r\n\r\n    /**\r\n     * Affichage du composant :\r\n     * Affiche le contenu récupéré depuis **getContent**.\r\n     */\r\n    render() {\r\n        let content = this.state.loaded ? this.getContent() : [];\r\n        return (\r\n            <div id=\"ContentWindow\" className=\"container\">\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ContentWindow;\r\n", "import React from 'react';\nimport NavBar from './NavBar';\nimport ContentWindow from './ContentWindow';\n\nconst titresMenus = [\"Accueil\", \"Listes téléphoniques\", \"Imprimantes et scanners\", \"Liens rapides\", \"Documentation\" ];\n\n/**\n * Composant représentant l'application.\n * Tous les autres composants en découlent.\n */\nclass App extends React.Component {\n\n\t/**\n\t * - menu : identifiant du menu courant de l'application. Provoque le changement de menu lorsqu'il est modifié.\n\t * - resetMap : permet d'envoyer un signal au composant MapController pour forcer l'affichage de la carte.\n\t */\n\tstate = {\n\t\tmenu: 0,\n\t\tresetMap: false,\n\t\tsst: false\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMenuChange = this.handleMenuChange.bind(this);\n\t\tlet menu = this.findGetParameter(\"menu\");\n\t\tlet sst = this.findGetParameter(\"sst\");\n\t\tif (menu)\n\t\t\tthis.state.menu = parseInt(menu);\n\t\tif (sst === \"true\")\n\t\t\tthis.state.sst = true;\n\t}\n\n\tfindGetParameter(parameterName) {\n\t    let result = null;\n\t\tlet tmp = [];\n\t    window.location.search\n\t\t\t.substr(1)\n\t\t\t.split(\"&\")\n\t\t\t.forEach((item) => {\n\t\t\t\ttmp = item.split(\"=\");\n\t\t\t\tif (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n\t\t\t});\n\t    return result;\n\t}\n\n\t/**\n\t * Fonction passée au composant NavBar, puis aux NavButtons.\n\t * Permet de changer de menu en remplaçant le menu de l'application par celui correspondant au bouton cliqué.\n\t * Permet aussi de ré-afficher la carte lors d'un clique sur le bouton 'Imprimantes & scanners' et 'Liste téléphonique',\n\t * en passant resetMap à true.\n\t * @param {nombre} newMenu - Le numéro du menu sélectionné, qui fera office de nouveau menu.\n\t*/\n\thandleMenuChange(newMenu) {\n\t\tthis.setState({menu: newMenu});\n\t\tif (newMenu === 1 || newMenu === 2) {\n\t\t\tthis.setState({resetMap: true});\n\t\t\tthis.setState({sst: false});\n\t\t}\n\t}\n\n\t/**\n\t * Affichage du composant :\n\t * Détermine s'il faut envoyer un signal resetMap, puis s'affiche.\n\t */\n\trender() {\n\t\tlet mapResetSig = false;\n\t\tlet wrapperTag = \"\";\n\t\tif (this.state.menu === 2) {\n\t\t\twrapperTag = \" imp\";\n\t\t}\n\t\tif (this.state.resetMap) {\n\t\t\tmapResetSig = true;\n\t\t\tthis.setState({resetMap: false});\n\t\t}\n\t\treturn(\n\t\t\t<div id=\"App\">\n\t\t\t\t<div className=\"header no-print\">\n\t\t\t\t\t<span id=\"Title\"><img alt=\"easyinternet\" src=\"./icons/easy_internet.png\"/> - {titresMenus[this.state.menu]}</span>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"divider\"></div>\n\t\t\t\t<div className={\"wrapper\" + wrapperTag}>\n\t\t\t\t\t<NavBar menu={this.state.menu} btnAction={this.handleMenuChange}/>\n\t\t\t\t\t<ContentWindow menu={this.state.menu} resetMap={mapResetSig} sst={this.state.sst}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nexport default App;\n", "import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'react-app-polyfill/ie9';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],
    "sourceRoot": ""
}